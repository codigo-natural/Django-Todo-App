{% extends 'base.html'%}

{% block content%}
  <h1>Task List</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Due Date</th>
        <th>Priority</th>
        <th>Completed</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
        <tr class=" {% if task.priority == 'high' %} table-danger{% elif task.priority == 'medium' %} table-warning{% else %} table-success{% endif %}">
          <td>{{ task.title }}</td>
          <td>{{ task.description }}</td>
          <td>{{ task.due_date }}</td>
          <td>{{ task.get_priority_display }}</td>
          <td><input type="checkbox" {% if task.completed %}checked{% endif %}</td>
          <td><a href="{% url 'task_edit' pk=task.pk %}">Edit</a> | <a href="{% url 'task_delete' pk=task.pk %}">Delete</a></td>
        </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock %}